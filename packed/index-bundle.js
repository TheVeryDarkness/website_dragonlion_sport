(()=>{"use strict";var e={99:e=>{e.exports=JSON.parse('{"root":[{"value":"舞龙","sub":[{"value":"2019","sub":[{"value":"全国龙狮锦标赛男子规定","src":"http://videoflv.sports.cn/201911/20191110wlgd.mp4","origin":"http://dragonlion.sport.org.cn/home/zhxw/2019/1121/325648.html","sub":[{"value":"南京理工大学","range":["45","570"],"sub":[{"value":"开场造型","range":["68","124"]},{"value":"绕场跳龙五次","range":["126","152"]},{"value":"正反腾跃前进","range":["156","176"]},{"value":"快速游龙","range":["180","190"]},{"value":"连续快腾进三次","range":["190","210"]},{"value":"造型（尾盘，龙头戏珠）","range":["210","230"]},{"value":"大横8字花（成型四次）","range":["230","260"]},{"value":"左右螺旋跳龙接摇船","range":["260","281"]},{"value":"大立圆螺旋行进","range":["282","305"]},{"value":"起伏圆盘","range":["305","321"]},{"value":"双杆","range":["321","357"]},{"value":"造型（菱形）","range":["356","363"]},{"value":"换位跳龙","range":["363","377"]},{"value":"绕身舞龙","range":["377","386"]},{"value":"站腿","range":["386","397"]},{"value":"起伏圆盘接穿龙尾","range":["397","406"]},{"value":"卧龙腾飞","range":["405","414"]},{"value":"躺肩挂腰（直躺挂腰）","range":["413","427"]},{"value":"造型（立龙）","range":["427","448"]},{"value":"龙脱衣","range":["445","455"]},{"value":"跳龙行进","range":["458","476"]},{"value":"斜盘跳龙连续三次","range":["475","490"]},{"value":"原地螺旋跳龙连续五次接直躺","range":["490","509"]},{"value":"造型（龙腾九霄）","range":["509","533"]}]},{"value":"湖南师范大学","range":["592","1533"],"sub":[]},{"value":"湖北队","range":["1597","2133"],"sub":[]},{"value":"台州学院","range":["2195","2723"],"sub":[]},{"value":"上海三林","range":["2791","3300"],"sub":[]},{"value":"集美大学","range":["3348","3888"],"sub":[]}]},{"value":"全国龙狮锦标赛女子传统","range":["0","2502"],"src":"http://videoflv.sports.cn/201911/20191109ctwl.mp4","origin":"http://dragonlion.sport.org.cn/home/zhxw/2019/1121/325639.html","sub":[{"value":"常州大学","range":["24","542"],"sub":[]},{"value":"扬州工职院","range":["644","1151"],"sub":[]},{"value":"江阴职院","range":["1335","1841"],"sub":[]},{"value":"湖北队","range":["1929","2463"],"sub":[]}]},{"value":"全国龙狮锦标赛男子传统","range":["2502","4250"],"src":"http://videoflv.sports.cn/201911/20191109ctwl.mp4","origin":"http://dragonlion.sport.org.cn/home/zhxw/2019/1121/325639.html","sub":[{"value":"南理工紫金学院","range":["2499","2870"],"sub":[]},{"value":"扬州工职院","range":["3026","3512"],"sub":[]},{"value":"常州大学","range":["3626","4155"],"sub":[]}]},{"value":"上海市舞龙舞狮锦标赛青少年组","origin":"https://v.youku.com/v_show/id_XNDM2OTkzMDE1Ng==.html","frame":"https://player.youku.com/embed/XNDM2OTkzMDE1Ng==","from":"youku","height":498,"width":510,"sub":[{"value":"上海市松江区九亭中学","range":["811","1160"],"sub":[]},{"value":"上海市工商职业技术学院","range":["1398","1747"],"score":8.59,"sub":[]},{"value":"上海市行知实验中学","range":["1756","2158"],"score":8.25,"sub":[]},{"value":"上海市嘉定民办斌心学校","range":["2168","2723"],"score":8.71}]},{"value":"同济大学校运会","range":["0","282"],"origin":"https://www.bilibili.com/video/BV1f4411k7dd","frame":"https://player.bilibili.com/player.html?aid=66976421&bvid=BV1f4411k7dd&cid=116141312&page=1","from":"bilibili","comment":[{"name":"不愿透露姓名的某开发者","content":"头掉了嘎嘎嘎"}],"sub":[]}]},{"value":"2018","sub":[{"value":"亚洲龙狮锦标赛","sub":[{"value":"台湾","range":["0","545"],"origin":"https://haokan.baidu.com/v?vid=1349428518790328525&pd=pcshare","sub":[]}]}]},{"value":"2017","sub":[{"value":"全国运动会","sub":[{"value":"华东交通大学","range":["0","528"],"origin":"https://v.qq.com/x/page/h0394te13o9.html","frame":"https://v.qq.com/txp/iframe/player.html?vid=h0394te13o9","from":"vqq","sub":[]}]}]}]},{"value":"舞狮","sub":[]}]}')}},o={};function n(t){if(o[t])return o[t].exports;var r=o[t]={exports:{}};return e[t](r,r.exports,n),r.exports}(()=>{var e,o="";function t(){linkSchemeStyle.href=o+"./css/light.css",e=!0}function r(){linkSchemeStyle.href=o+"./css/dark.css",e=!1}const a={method:"GET",mode:"cors",referrer:"no-referrer"};class s{constructor(){return sessionStorage||console.log("Local storage not supported."),this.embededVideoSrc=function(){const e=n(99);return new Promise(((o,n)=>{o(e)}))},this.fetchVideoSrcFromLocalStorage=function(){return new Promise(((e,o)=>{sessionStorage||o("Not support action");const n=sessionStorage.getItem("video");if(!n)return o("No such item in local storage.");try{e(JSON.parse(n))}catch(e){console.log("Data in local storage not available."),o(e)}}))},this.removeVideoSrcFromLocalStorage=function(){sessionStorage&&sessionStorage.removeItem("video")},this.addVideoSrcToLocalStorage=function(e){sessionStorage&&sessionStorage.setItem("video",JSON.stringify(e))},this.fetchVideoSrcFromSameSite=async function(){return(await fetch(rootPath+"data/video.json",a)).json()},this.fetchVideoSrcFromGitHub=async function(){return(await fetch("https://raw.githubusercontent.com/TheVeryDarkness/sport_data/main/video.json",a)).json()},this}}var c=[[],[],[],[],[]],l={};function i(e){const o=document.getElementById("loadStatus");o?o.value=e?"重置":"重试":console.error("Name an element to show the status of loading.")}function u(e="全选"){return{value:e,sub:[]}}function d(e,o){return new Array(u("全选")).concat(function(e,o){var n=new Array;for(const t of function(e,o){return 0===o?e:new Array(e[o])}(e,o))t.sub?n=n.concat(t.sub):console.log("Node '",t.value,"' miss property 'sub'.");return n}(e,o))}var m=[document.getElementById("s0"),document.getElementById("s1"),document.getElementById("s2"),document.getElementById("s3"),document.getElementById("s4")],g=()=>{console.log("Not specified.")};function h(e){!function(e){const o=new s;(Promise.any?Promise.any([o.fetchVideoSrcFromLocalStorage(),o.fetchVideoSrcFromSameSite(),o.fetchVideoSrcFromGitHub()]):o.fetchVideoSrcFromLocalStorage().catch((e=>(console.log(e),o.fetchVideoSrcFromSameSite()))).catch((e=>(console.log(e),o.fetchVideoSrcFromGitHub()))).catch((e=>{console.log(e),alert("Can't load by any mean.")}))).then((n=>{l=n,e(),i(!0),o.addVideoSrcToLocalStorage(l),console.log("Video data stored.")})).catch((n=>{console.log(n),o.removeVideoSrcFromLocalStorage(),console.log("Local storage removed. Refresh to reload."),console.log("Can't fecth from outside. Using embeded data."),o.embededVideoSrc().then((o=>{l=o,e(),i(!0)})).catch((e=>{console.log(e),i(!1),alert("Failed to load video data properly by any means.")}))}))}((()=>{f(-1)})),e?g=e:console.error("Callback not available.")}function v(e,o){!function(e,o){e.options.length=o.length;for(const n in o)e.options[n].text=o[n].value}(e,o)}function f(e){switch(e>0&&0==m[e-1].selectedIndex&&function(e){switch(e){case 4:b(m[3],m[4],c[3]);case 3:b(m[2],m[3],c[2]);case 2:b(m[1],m[2],c[1]);case 1:b(m[0],m[1],c[0])}}(e),e){case-1:c[0]=new Array(u()).concat(l.root),v(m[0],c[0]);case 0:c[1]=d(c[0],m[0].selectedIndex),v(m[1],c[1]),m[1].selectedIndex=0;case 1:c[2]=d(c[1],m[1].selectedIndex),v(m[2],c[2]),m[2].selectedIndex=0;case 2:c[3]=d(c[2],m[2].selectedIndex),v(m[3],c[3]),m[3].selectedIndex=0;case 3:c[4]=d(c[3],m[3].selectedIndex),v(m[4],c[4]),m[4].selectedIndex=0;case 4:g();break;default:console.error("Unexpected index ",e)}}function b(e,o,n){var t=1,r=0;for(const e of n){if((t+=e.sub.length)>o.selectedIndex)break;++r}e.selectedIndex=r}var p=0,x=NaN;const y="javascript:void(0)",I="about:blank";var S="html5",w={src:"",from:"",origin:I};function N(e,o){S=o,w=e,"html5"==o?(sourceVideo.src=e.src,T("video"),video.load(),video.currentTime=p,video.addEventListener("timeupdate",F)):"player"==o?("bilibili"==e.from?embededFrame.src=e.frame+"&high_quality=1&t="+p:"vqq"==e.from?embededFrame.src=e.frame+"&show1080p=1&starttime="+p:"youku"==e.from?embededFrame.src=e.frame+"?starttime="+p+"&endtime="+x:(embededFrame.src=e.frame,console.log("Unrecognized video source: '",e.from,"'")),T("iframe")):"page"==o?(embededFrame.src=e.origin,T("iframe")):console.error("Unrecognized mode '",o,"'.")}function V(e){if(originVideoURL.href=e.src?e.src:y,originWebpage.href=e.origin?e.origin:I,e.src)N(e,"html5");else if(e.frame)N(e,"player");else{if(!e.origin)return!1;N(e,"page")}return!0}function k(e){if(e.range){if(e.range[0]&&e.range[1]){const o=e.range[0],n=e.range[1];return p=o,x=n,!0}console.log("Node '",e.value,"' has a illegal value for property 'range'")}return!1}function F(){video.currentTime>=x&&(video.pause(),video.removeEventListener("timeupdate",F))}function T(e){"video"==e?(video.style.display="block",embededFrame.style.display="none"):"iframe"==e?(video.style.display="none",embededFrame.style.display="block"):console.error("Unrecognized mode '",e,"'.")}function A(){p=0,x=NaN,originVideoURL.href=y,sourceVideo.src="",originWebpage.href=I,embededFrame.src=I,video.load()}function E(e){return e&&e.comment?e.comment[0].content:""}function B(e){return Math.floor(e/3600)+":"+Math.floor(e%3600/60)+":"+e%60}function L(){A(),0!==m[4].selectedIndex&&k(c[4][m[4].selectedIndex])||0!==m[3].selectedIndex&&k(c[3][m[3].selectedIndex])||0!==m[2].selectedIndex&&k(c[2][m[2].selectedIndex])||(displayVideoTimeRange.innerText=""),0!==m[4].selectedIndex&&V(c[4][m[4].selectedIndex])||0!==m[3].selectedIndex&&V(c[3][m[3].selectedIndex])||0!==m[2].selectedIndex&&V(c[2][m[2].selectedIndex])||A();for(let e=0;e<c.length;e++){const o=document.getElementById("i"+String(e)),n=c[e],t=m[e].selectedIndex;0!==t&&n[t]&&(o.innerText=n[t].value+": "+E(n[t])),o.hidden=!o.innerText}displayVideoTimeRange.innerText=B(p)+", "+B(x)}const R=[[["原地8字舞龙","行进8字舞龙","单跪舞龙","套头舞龙","搁脚舞龙","扯旗舞龙","靠背舞龙","横移(跳)步舞龙","起伏8字舞龙"],["直线行进","曲线行进","走(跑)圆场","滑步行进","起伏行进","单侧起伏小圆场","矮步跑圆场","直线(曲线、圆场)行进越障碍"],["穿龙尾","越龙尾","首尾穿(越)肚"],["龙翻身"],["龙门造型","塔盘造型","尾盘造型","曲线造型","龙出宫造型","蝴蝶盘花造型","组字造型","龙舟造型","螺丝结顶造型","卧(垛)龙造型"]],[["原地快速8字舞龙","行进快速8字舞龙","跪步行进快舞龙","抱腰舞龙","绕身舞龙","双人换位舞龙","快舞龙磨转","连续抛接龙头横移(跑)步舞龙"],["快速曲线起伏行进","快速顺逆连续跑圆场","快速矮步跑圆场越障碍","快速跑斜圆场","骑肩双杆起伏行进"],["龙穿身","龙脱衣","龙戏尾","连续腾越行进","腾身穿尾","穿尾越龙身","卧龙飞腾","穿八五节","首(尾)穿花缠身行进"],["快速逆(顺)向跳龙行进(2次以上)","连续游龙跳龙(2次以上)","大立圆螺旋行进(3次以上)"],["上肩高塔造型自转一周","龙尾高翘寻珠、追珠","首尾盘柱","龙翻身接滚翻成造型","单臂侧手翻接滚翻成造型"]],[["跳龙接一蹲一躺快舞龙","跳龙接摇船快舞龙","跳龙接直躺快舞龙","依次滚翻接单跪快舞龙","挂腰舞龙(两人一组)","K式舞龙(3人一组)","站腿舞龙(两人一组)","双杆舞龙(一人持两杆)"],["站肩平盘起伏(二周以上)","直线后倒、鲤鱼打挺接擎龙行进"],["快速连续穿越行进(3次以上)","连续穿越腾越行进(4次以上)"],["快速连续斜盘跳龙(3次以上)","快速连续螺旋跳龙(4次以上)","快速连续螺旋跳龙磨转(6次以上)","快速左右螺旋跳龙(左右各3次以上)","快速连续磨盘跳龙(3次以上)"],["大横8字花慢行进(成型4次以上)","坐肩后仰成平盘起伏旋转(一周以上)"]]];3!=R.length&&console.log("Debug failed! There should be 3 levels.");for(const e of R)5!=e.length&&console.log("Debug failed! There should be 5 categories.");var D=new Array;function M(){var e=new Array;for(const o of arguments)e.push(o.value.toString());return e}function q(e){if(null!=e){searchResults.options.length=0,D.length=0;for(const o in c[0]){if(0==o)continue;const n=c[0][o];n.value.match(e)&&(z(searchResults,M(n)),D.push(new Array(o,0,0,0,0)));for(const t in n.sub){const r=n.sub[t];r.value.match(e)&&(z(searchResults,M(r,n)),D.push(new Array(o,Number(t)+1,0,0,0)));for(const a in r.sub){const s=r.sub[a];s.value.match(e)&&(z(searchResults,M(s,r,n)),D.push(new Array(o,Number(t)+1,Number(a)+1,0,0)));for(const c in s.sub){const l=s.sub[c];l.value.match(e)&&(z(searchResults,M(l,s,r,n)),D.push(new Array(o,Number(t)+1,Number(a)+1,Number(c)+1,0)));for(const i in l.sub){const u=l.sub[i];u.value.match(e)&&(z(searchResults,M(u,l,s,r,n)),D.push(new Array(o,Number(t)+1,Number(a)+1,Number(c)+1,Number(i)+1)))}}}}}}}function z(e,o){e.options.length=e.options.length+1,e.options[e.options.length-1].text=o}function U(){if(-1!==a1.selectedIndex&&-1!==a2.selectedIndex){a3.options.length=0;for(const e of R[a1.selectedIndex][a2.selectedIndex])z(a3,e)}}o="",function(){if(window.matchMedia("(prefers-color-scheme: dark)").matches)r();else if(window.matchMedia("(prefers-color-scheme: light)").matches)t();else if(window.matchMedia("(prefers-color-scheme: no-preference)").matches)t();else{var e=new Date;e.getHours()>=22||e.getHours()<=6?r():t()}}(),h(L),U();for(let e=0;e<m.length;e++)m[e].onchange=()=>f(e);document.getElementById("chooseItem").onsubmit=e=>{e.preventDefault(),h(L)},document.getElementById("playMode").onclick=function(){const e=["html5","player","page"],o=w,n=e.indexOf(S);N(o,e[(n+1)%e.length])},document.getElementById("chooseAction").onsubmit=e=>{var o;e.preventDefault(),a3.selectedIndex<0?U():(o=a3.options[a3.selectedIndex].text,textSearchInAll.value=o,q(o))},document.getElementById("searchName").onsubmit=e=>{e.preventDefault(),q(textSearchInAll.value)},textSearchInAll.oninput=()=>q(textSearchInAll.value),searchResults.onchange=function(){var e=D[searchResults.selectedIndex];s0.selectedIndex=e[0],c[1]=d(c[0],e[0]),v(m[1],c[1]),m[1].selectedIndex=e[1],c[2]=d(c[1],e[1]),v(m[2],c[2]),m[2].selectedIndex=e[2],c[3]=d(c[2],e[2]),v(m[3],c[3]),m[3].selectedIndex=e[3],c[4]=d(c[3],e[3]),v(m[4],c[4]),m[4].selectedIndex=e[4],L()},lightIndication.onclick=function(){e?(r(),lightIndication.innerText="一熄灯一切被纪念"):(t(),lightIndication.innerText="一开灯一切变妄念")}})()})();